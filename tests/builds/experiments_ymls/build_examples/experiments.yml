# This file contains example builds for git and non-git cases, and develop and non-dev cases.
builds:
  - name: git-gdsb
    git: https://github.com/hu-macsy/graph-ds-benchmark.git
    recursive-clone: true
    
    configure:
      - args:
        - 'cmake'
        - '-GNinja'
        # Experiments have been compiled using g++12.3. If you want to use your
        # default c++ compiler, simply comment the following line.
        # - '-DCMAKE_CXX_COMPILER=/opt/gcc-12.3@gcc8.5/bin/g++'
        - '-DCMAKE_INSTALL_LIBDIR=lib'
        - '-DCMAKE_INSTALL_PREFIX=@THIS_PREFIX_DIR@'
        - '-DCMAKE_BUILD_TYPE=Release'
        - '-DGDSB_MPI=On'
        - '@THIS_SOURCE_DIR@'
        - '-Dgdsb_DIR=@PREFIX_DIR_FOR:git-gdsb@/lib/cmake/git-gdsb'
    compile:
      - args: ['ninja']
    install:
      - args: ['ninja', 'install']
  
  - name: non-git-cpp
    configure:
      - args:
          - 'cmake'
          - '-DCMAKE_INSTALL_PREFIX=@BASE_DIR@'
          - '@BASE_DIR@'
    compile:
       - args:
          - 'make'
    install:
      - args:
          - 'make'
          - 'install'

  - name: non-git-py

revisions:
  - name: git-non-dev-gdsb
    build_version:
      'git-gdsb': '027ee5048e8c00648185ee4321dab969a80396fe'

  - name: git-dev-gdsb
    develop: true
    build_version:
      'git-gdsb': ''

  - name: non-git-dev-cpp
    develop: true
    build_version: 
      'non-git-cpp': ''

  - name: non-git-dev-py
    develop: true
    build_version: 
      'non-git-py': ''  
